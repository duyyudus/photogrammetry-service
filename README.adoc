# Photogrammetry Service

Backend for *Photogrammetry Service*

This is a multi-component system, including

- `Redis` as message queue broker
- `MongoDB` for database
- `worker` ( based on `dramatiq` ) receives request and process `Task`, which contains many `Step` +
Depend on `Step` of `Task`, there is additional external program that take over duty from `worker` (e.g. Reality Capture)
- `Coordinator` monitors the state of tasks in database and send task processing requests to `worker`, as well as updating database
- `Flask` server takes care of user REST APIs

Each component is basically a standalone process.

*Windows*

`scripts/start_redis.cmd` : run Redis executable in `win_dependences` folder. You can also use Redis Docker as alternative.

*Linux/Mac*

`scripts/start_redis.sh` : run Redis Docker container.

NOTE: Although this backend can run on Linux/Mac, some image processing components will be able to work only on Windows
